function createTemplate(a,b){if(isString(a)){if(!isElement(b))throw Error(soma.template.errors.TEMPLATE_STRING_NO_ELEMENT);b.innerHTML=a;a=b}else if(isElement(a))isElement(b)&&(b.innerHTML=a.innerHTML,a=b);else throw Error(soma.template.errors.TEMPLATE_NO_PARAM);getTemplate(a)&&(getTemplate(a).dispose(),templates.remove(a));b=new Template(a);templates.put(a,b);return b}function getTemplate(a){return templates.get(a)}
function renderAllTemplates(){var a=templates.getData(),b;for(b in templates.getData())a.hasOwnProperty(b)&&templates.get(b).render()}function appendHelpers(a){null===a&&(helpersObject={},helpersScopeObject={});if(isDefined(a)&&isObject(a))for(var b in a)a.hasOwnProperty(b)&&(helpersObject[b]=helpersScopeObject[b]=a[b]);return helpersObject}tokens.start(tokenStart);tokens.end(tokenEnd);soma.plugins=soma.plugins||{};
var TemplatePlugin=function(a,b){a.constructor.prototype.createTemplate=function(e,c){if(!e||"function"!==typeof e)throw Error("Error creating a template, the first parameter must be a function.");if(c&&isElement(c)){c=soma.template.create(c);for(var d in c)"function"===typeof c[d]&&(e.prototype[d]=c[d].bind(c));e.prototype.render=c.render.bind(c);d=b.createChild();d.mapValue("template",c);d.mapValue("scope",c.scope);d.mapValue("element",c.element);return d.createInstance(e)}return null};soma.template.bootstrap=
function(e,c,d){a.createTemplate(d,c)}};soma.plugins&&soma.plugins.add&&soma.plugins.add(TemplatePlugin);soma.template.Plugin=TemplatePlugin;soma.template.create=createTemplate;soma.template.get=getTemplate;soma.template.renderAll=renderAllTemplates;soma.template.helpers=appendHelpers;soma.template.bootstrap=bootstrapTemplate;soma.template.addEvent=addEvent;soma.template.removeEvent=removeEvent;soma.template.parseEvents=parseEvents;soma.template.clearEvents=clearEvents;soma.template.ready=ready;
"function"===typeof define&&"undefined"!==typeof define.amd&&define("soma-template",soma.template);"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports=soma.template);"undefined"!==typeof exports&&(exports=soma.template);
