var mkdirp=require("mkdirp"),path=require("path"),i=0,tap=require("tap"),fs=require("fs"),rimraf=require("rimraf"),files="a/.abcdef/x/y/z/a a/abcdef/g/h a/abcfed/g/h a/b/c/d a/bc/e/f a/c/d/c/b a/cb/e/f".split(" "),symlinkTo=path.resolve(__dirname,"a/symlink/a/b/c"),symlinkFrom="../..";files=files.map(function(a){return path.resolve(__dirname,a)});tap.test("remove fixtures",function(a){rimraf(path.resolve(__dirname,"a"),function(b){a.ifError(b,"remove fixtures");a.end()})});
files.forEach(function(a){tap.test(a,function(b){var d=path.dirname(a);mkdirp(d,493,function(c){if(c)return b.fail(c),b.bailout();fs.writeFile(a,"i like tests",function(e){b.ifError(e,"make file");b.end()})})})});tap.test("symlinky",function(a){var b=path.dirname(symlinkTo);console.error("mkdirp",b);mkdirp(b,493,function(d){a.ifError(d);fs.symlink(symlinkFrom,symlinkTo,function(c){a.ifError(c,"make symlink");a.end()})})});
