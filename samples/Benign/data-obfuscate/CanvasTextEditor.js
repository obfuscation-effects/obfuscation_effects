'use strict';var a0_0x9c9008=a0_0x4988;(function(_0x531a4e,_0x14f910){var _0x33a446=a0_0x4988,_0x3cc50a=_0x531a4e();while(!![]){try{var _0x32b6fb=parseInt(_0x33a446(0xf9))/0x1*(-parseInt(_0x33a446(0x11a))/0x2)+parseInt(_0x33a446(0x128))/0x3*(parseInt(_0x33a446(0x129))/0x4)+parseInt(_0x33a446(0x127))/0x5+parseInt(_0x33a446(0x10c))/0x6*(parseInt(_0x33a446(0x132))/0x7)+parseInt(_0x33a446(0x121))/0x8*(parseInt(_0x33a446(0x106))/0x9)+parseInt(_0x33a446(0x104))/0xa+parseInt(_0x33a446(0x142))/0xb*(-parseInt(_0x33a446(0x124))/0xc);if(_0x32b6fb===_0x14f910)break;else _0x3cc50a['push'](_0x3cc50a['shift']());}catch(_0x323373){_0x3cc50a['push'](_0x3cc50a['shift']());}}}(a0_0x1801,0x7efe2));function a0_0x4988(_0x3c5c41,_0xf5a2e2){var _0x180157=a0_0x1801();return a0_0x4988=function(_0x498844,_0x23f463){_0x498844=_0x498844-0xc6;var _0x305a2c=_0x180157[_0x498844];return _0x305a2c;},a0_0x4988(_0x3c5c41,_0xf5a2e2);}var FontMetrics=require('FontMetrics'),Document=require(a0_0x9c9008(0xdf)),Selection=require(a0_0x9c9008(0xf2)),CanvasTextEditor=function(_0xb5a7ac,_0x4a1a6e){var _0x3bdd27=a0_0x9c9008;this[_0x3bdd27(0x102)]=_0xb5a7ac||new Document(),this[_0x3bdd27(0x109)]={'textColor':_0x3bdd27(0xea),'backgroundColor':_0x3bdd27(0x12f),'selectionColor':_0x3bdd27(0xf6),'focusColor':_0x3bdd27(0xf7),'fontFamily':_0x3bdd27(0x12c),'fontSize':0xe,'padding':0x5,'width':0x280,'height':0x1e0};if(typeof _0x4a1a6e===_0x3bdd27(0x136))for(var _0x43e4de in _0x4a1a6e){this[_0x3bdd27(0x109)][_0x43e4de]=_0x4a1a6e[_0x43e4de];}this[_0x3bdd27(0x12e)]=new FontMetrics(this[_0x3bdd27(0x109)][_0x3bdd27(0x113)],this[_0x3bdd27(0x109)]['fontSize']),this[_0x3bdd27(0x120)](),this['_selection']=new Selection(this,this[_0x3bdd27(0x109)][_0x3bdd27(0x133)]),this[_0x3bdd27(0xfe)]['onchange']=this[_0x3bdd27(0x11f)][_0x3bdd27(0xd1)](this),this[_0x3bdd27(0x13c)](),this[_0x3bdd27(0xcd)](),document[_0x3bdd27(0xe9)](_0x3bdd27(0x112),this[_0x3bdd27(0x131)][_0x3bdd27(0xd1)](this),!![]),document[_0x3bdd27(0xe9)](_0x3bdd27(0x12b),this[_0x3bdd27(0xf1)][_0x3bdd27(0xd1)](this),!![]),window[_0x3bdd27(0xe9)](_0x3bdd27(0x13e),this['clearKeyModifiers']['bind'](this),!![]),window['addEventListener'](_0x3bdd27(0x13e),this[_0x3bdd27(0xcf)]['bind'](this),!![]);};module[a0_0x9c9008(0x111)]=CanvasTextEditor,CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0x122)]=0x0,CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0x13a)]=0x0,CanvasTextEditor[a0_0x9c9008(0xe8)]['isOpera']=a0_0x9c9008(0xc8)in window&&'version'in window['opera'],CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0xf3)]=a0_0x9c9008(0xf5),CanvasTextEditor['prototype'][a0_0x9c9008(0x140)]=![],CanvasTextEditor[a0_0x9c9008(0xe8)]['addKeyModifier']=function(_0x38a135){_0x38a135['keyCode']===0x10&&(this['shiftPressed']=!![]);},CanvasTextEditor['prototype']['removeKeyModfier']=function(_0xfdc9ac){var _0x2c0b61=a0_0x9c9008;_0xfdc9ac[_0x2c0b61(0x115)]===0x10&&(this['shiftPressed']=![]);},CanvasTextEditor[a0_0x9c9008(0xe8)]['clearKeyModifiers']=function(){var _0x30aba8=a0_0x9c9008;this[_0x30aba8(0x140)]=![];},CanvasTextEditor['prototype'][a0_0x9c9008(0x11c)]=function(){var _0x16956c=a0_0x9c9008;return this[_0x16956c(0xfe)];},CanvasTextEditor[a0_0x9c9008(0xe8)]['scrollTop']=function(){var _0x3b6d1f=a0_0x9c9008;return this[_0x3b6d1f(0x122)];},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0x105)]=function(){var _0xfd1980=a0_0x9c9008;return this[_0xfd1980(0x13a)];},CanvasTextEditor[a0_0x9c9008(0xe8)]['selectionChange']=function(){var _0x1854fc=a0_0x9c9008,_0x54dbec='';if(!this['_selection'][_0x1854fc(0xdc)]()){var _0x5aa702=this[_0x1854fc(0xfe)][_0x1854fc(0xdd)]();for(var _0x2e8190 in _0x5aa702){_0x54dbec+=this['_document'][_0x1854fc(0xca)](parseInt(_0x2e8190))[_0x1854fc(0x11b)](_0x5aa702[_0x2e8190][0x0],_0x5aa702[_0x2e8190][0x1]===!![]?undefined:_0x5aa702[_0x2e8190][0x1]);}}this[_0x1854fc(0x10d)](),this['setInputText'](_0x54dbec,!![]),this['render']();},CanvasTextEditor['prototype']['_createWrapper']=function(){var _0x1ce4f9=a0_0x9c9008;this['wrapper']=document['createElement'](_0x1ce4f9(0xd3)),this[_0x1ce4f9(0x13f)][_0x1ce4f9(0xf3)]=this[_0x1ce4f9(0xf3)],this[_0x1ce4f9(0x13f)]['style']['display']=_0x1ce4f9(0xd9),this['wrapper']['style']['position']=_0x1ce4f9(0x11d),this[_0x1ce4f9(0x13f)]['style']['backgroundColor']=this['options'][_0x1ce4f9(0xd6)],this[_0x1ce4f9(0x13f)][_0x1ce4f9(0x143)][_0x1ce4f9(0x100)]=this[_0x1ce4f9(0x109)][_0x1ce4f9(0xda)]+_0x1ce4f9(0x101)+this[_0x1ce4f9(0x109)][_0x1ce4f9(0xd6)],this[_0x1ce4f9(0x13f)][_0x1ce4f9(0x143)][_0x1ce4f9(0x118)]='hidden',this[_0x1ce4f9(0x13f)][_0x1ce4f9(0x10b)]=0x0,this[_0x1ce4f9(0x13f)][_0x1ce4f9(0xe9)]('focus',this[_0x1ce4f9(0x13e)][_0x1ce4f9(0xd1)](this),![]);},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0x13c)]=function(){var _0x2fae2c=a0_0x9c9008;this[_0x2fae2c(0xeb)]=document[_0x2fae2c(0xfc)](_0x2fae2c(0xeb)),this[_0x2fae2c(0xeb)][_0x2fae2c(0x143)][_0x2fae2c(0x10f)]=_0x2fae2c(0xfa),this[_0x2fae2c(0x110)]=this['canvas'][_0x2fae2c(0x13b)]('2d'),this[_0x2fae2c(0x114)](this[_0x2fae2c(0x109)][_0x2fae2c(0x107)],this[_0x2fae2c(0x109)][_0x2fae2c(0xff)]),this[_0x2fae2c(0xcf)](),this[_0x2fae2c(0x13f)]['appendChild'](this[_0x2fae2c(0xeb)]);},CanvasTextEditor[a0_0x9c9008(0xe8)]['_checkScroll']=function(){var _0x2c67d4=a0_0x9c9008,_0x5802be=Math[_0x2c67d4(0xd0)](this[_0x2c67d4(0xeb)][_0x2c67d4(0xff)]/this[_0x2c67d4(0x12e)][_0x2c67d4(0xe4)]())-0x1,_0x49589f=Math[_0x2c67d4(0xd0)](this[_0x2c67d4(0xeb)][_0x2c67d4(0x107)]/this[_0x2c67d4(0x12e)][_0x2c67d4(0xcb)]())-0x1,_0x323ebf=this[_0x2c67d4(0xfe)][_0x2c67d4(0x12a)]();if(_0x323ebf[0x0]>this[_0x2c67d4(0x13a)]+_0x49589f)this[_0x2c67d4(0x13a)]=_0x323ebf[0x0]-_0x49589f;else _0x323ebf[0x0]<this[_0x2c67d4(0x13a)]&&(this['_scrollLeft']=_0x323ebf[0x0]);if(_0x323ebf[0x1]>this[_0x2c67d4(0x122)]+_0x5802be)this['_scrollTop']=_0x323ebf[0x1]-_0x5802be;else _0x323ebf[0x1]<this[_0x2c67d4(0x122)]&&(this[_0x2c67d4(0x122)]=_0x323ebf[0x1]);this[_0x2c67d4(0xfe)][_0x2c67d4(0xec)]();},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0xcf)]=function(){var _0x347590=a0_0x9c9008,_0x41cb31=this[_0x347590(0x12e)]['getBaseline'](),_0x597ff2=this['_metrics']['getHeight'](),_0x50ef81=this[_0x347590(0x12e)][_0x347590(0xcb)](),_0x5d5dd7=Math[_0x347590(0xd0)](this[_0x347590(0xeb)]['height']/_0x597ff2)+this[_0x347590(0x122)],_0x5f320e=this[_0x347590(0x102)]['getLineCount'](),_0x11cdc1=this['_selection'][_0x347590(0xdd)](),_0x2b79dc=0x0;_0x5f320e<_0x5d5dd7&&(_0x5d5dd7=_0x5f320e);this[_0x347590(0x110)]['fillStyle']=this['options'][_0x347590(0xd6)],this['context'][_0x347590(0xcc)](0x0,0x0,this[_0x347590(0xeb)][_0x347590(0x107)],this[_0x347590(0xeb)]['height']),this[_0x347590(0x110)]['fillStyle']=this[_0x347590(0x109)][_0x347590(0x133)];for(var _0x214786=this[_0x347590(0x122)];_0x214786<_0x5d5dd7;++_0x214786){var _0x32b0e6=_0x597ff2*(_0x214786-this[_0x347590(0x122)]);_0x11cdc1[_0x214786]&&(this[_0x347590(0x110)][_0x347590(0x10e)]=this[_0x347590(0x109)][_0x347590(0x10a)],_0x11cdc1[_0x214786][0x1]===!![]?_0x2b79dc=this[_0x347590(0xeb)][_0x347590(0x107)]:_0x2b79dc=(_0x11cdc1[_0x214786][0x1]-_0x11cdc1[_0x214786][0x0])*_0x50ef81,this['context'][_0x347590(0xcc)]((_0x11cdc1[_0x214786][0x0]-this[_0x347590(0x13a)])*_0x50ef81,_0x32b0e6,_0x2b79dc,_0x597ff2),this[_0x347590(0x110)]['fillStyle']=this[_0x347590(0x109)][_0x347590(0x133)]),this[_0x347590(0x110)][_0x347590(0x126)](this[_0x347590(0x102)][_0x347590(0xca)](_0x214786)[_0x347590(0x11b)](this[_0x347590(0x13a)]),0x0,_0x32b0e6+_0x41cb31);}},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0xcd)]=function(){var _0x3cbfb7=a0_0x9c9008;this[_0x3cbfb7(0x141)]=document[_0x3cbfb7(0xfc)]('textarea'),this['inputEl'][_0x3cbfb7(0x143)][_0x3cbfb7(0x12d)]=_0x3cbfb7(0xed),this[_0x3cbfb7(0x141)][_0x3cbfb7(0x143)][_0x3cbfb7(0xe3)]='-25px',this['inputEl'][_0x3cbfb7(0x143)][_0x3cbfb7(0x103)]=_0x3cbfb7(0x13d),this[_0x3cbfb7(0x141)][_0x3cbfb7(0x143)][_0x3cbfb7(0xff)]=_0x3cbfb7(0xde),this[_0x3cbfb7(0x141)][_0x3cbfb7(0x143)][_0x3cbfb7(0x107)]=_0x3cbfb7(0xde),this[_0x3cbfb7(0x141)][_0x3cbfb7(0xe9)](_0x3cbfb7(0x125),this[_0x3cbfb7(0xe2)]['bind'](this),![]),this[_0x3cbfb7(0x141)][_0x3cbfb7(0xe9)](_0x3cbfb7(0x11e),this['blur']['bind'](this),![]),this[_0x3cbfb7(0x141)][_0x3cbfb7(0xe9)]('focus',this[_0x3cbfb7(0x117)][_0x3cbfb7(0xd1)](this),![]),this[_0x3cbfb7(0x141)][_0x3cbfb7(0xe9)](_0x3cbfb7(0x112),this[_0x3cbfb7(0x112)][_0x3cbfb7(0xd1)](this),![]),this[_0x3cbfb7(0x141)][_0x3cbfb7(0xe9)](_0x3cbfb7(0xef),this[_0x3cbfb7(0xe1)][_0x3cbfb7(0xd1)](this,''),![]),this[_0x3cbfb7(0x141)][_0x3cbfb7(0x10b)]=-0x1,this[_0x3cbfb7(0x13f)][_0x3cbfb7(0x139)](this[_0x3cbfb7(0x141)]),this[_0x3cbfb7(0xe1)]('',!![]);},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0xe2)]=function(_0x407d4f){var _0x5b8d64=a0_0x9c9008,_0x2182ae=_0x407d4f[_0x5b8d64(0x135)][_0x5b8d64(0xfd)];this[_0x5b8d64(0xc6)]?_0x2182ae=_0x2182ae['substring'](0x0,_0x2182ae[_0x5b8d64(0xd2)]):_0x2182ae=_0x2182ae[_0x5b8d64(0xc9)](0x0,_0x2182ae[_0x5b8d64(0xd2)]-0x1),this[_0x5b8d64(0xc7)](_0x2182ae),this[_0x5b8d64(0xd7)]=!![];},CanvasTextEditor['prototype']['setInputText']=function(_0x250611,_0x2cfd04){var _0x1cfbad=a0_0x9c9008;(this[_0x1cfbad(0xd7)]||_0x2cfd04===!![])&&(this[_0x1cfbad(0xc6)]?(this[_0x1cfbad(0x141)][_0x1cfbad(0xfd)]=_0x250611,this[_0x1cfbad(0x141)][_0x1cfbad(0xfb)]()):(this['inputEl'][_0x1cfbad(0xfd)]=_0x250611+'#',this[_0x1cfbad(0x141)][_0x1cfbad(0xe0)]=0x0,this[_0x1cfbad(0x141)][_0x1cfbad(0xee)]=_0x250611[_0x1cfbad(0xd2)])),this[_0x1cfbad(0xd7)]=![];},CanvasTextEditor[a0_0x9c9008(0xe8)]['insertTextAtCurrentPosition']=function(_0x27f4aa){var _0x428436=a0_0x9c9008;!this[_0x428436(0xfe)][_0x428436(0xdc)]()&&this[_0x428436(0xf4)]();var _0x20afe3=this[_0x428436(0xfe)]['getPosition']();this[_0x428436(0xfe)][_0x428436(0x134)][_0x428436(0x138)](this['_selection'],this[_0x428436(0x102)]['insertText'](_0x27f4aa,_0x20afe3[0x0],_0x20afe3[0x1])),this[_0x428436(0xcf)]();},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0xf4)]=function(_0x13ae9f){var _0x36f0bf=a0_0x9c9008;if(!this[_0x36f0bf(0xfe)][_0x36f0bf(0xdc)]())this[_0x36f0bf(0xfe)][_0x36f0bf(0x134)]['apply'](this[_0x36f0bf(0xfe)],this[_0x36f0bf(0x102)][_0x36f0bf(0x130)](this[_0x36f0bf(0xfe)][_0x36f0bf(0x108)][_0x36f0bf(0xd5)],this['_selection'][_0x36f0bf(0x108)][_0x36f0bf(0xd8)],this[_0x36f0bf(0xfe)]['end'][_0x36f0bf(0xd5)],this[_0x36f0bf(0xfe)]['end'][_0x36f0bf(0xd8)]));else{var _0x408d9e=this['_selection'][_0x36f0bf(0x12a)]();this[_0x36f0bf(0xfe)]['setPosition'][_0x36f0bf(0x138)](this[_0x36f0bf(0xfe)],this['_document'][_0x36f0bf(0xce)](_0x13ae9f,_0x408d9e[0x0],_0x408d9e[0x1]));}this['render']();},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0x117)]=function(){var _0x57c357=a0_0x9c9008;this['wrapper'][_0x57c357(0x143)]['outline']=_0x57c357(0x119)+this['options']['focusColor'],this['_selection'][_0x57c357(0x116)](!![]);},CanvasTextEditor['prototype'][a0_0x9c9008(0xe6)]=function(){var _0x476808=a0_0x9c9008;return this[_0x476808(0x13f)];},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0xd4)]=function(){var _0x59b39d=a0_0x9c9008;return this[_0x59b39d(0x12e)];},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0xf8)]=function(){return this['_document'];},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0x114)]=function(_0x439ec4,_0x3401b7){var _0x209b30=a0_0x9c9008;this['canvas'][_0x209b30(0x107)]=_0x439ec4,this[_0x209b30(0xeb)][_0x209b30(0xff)]=_0x3401b7,this['context']['font']=this[_0x209b30(0x12e)][_0x209b30(0x137)]()+_0x209b30(0xe7)+this[_0x209b30(0x12e)]['getFamily']();},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0x112)]=function(_0xa1d7dc){var _0xf20e10=a0_0x9c9008,_0x30bfd3=!![];switch(_0xa1d7dc['keyCode']){case 0x8:this[_0xf20e10(0xf4)](![]);break;case 0x2e:this[_0xf20e10(0xf4)](!![]);break;case 0xd:this[_0xf20e10(0xc7)]('\x0a');break;case 0x25:this['_selection'][_0xf20e10(0xf0)](0x1,this['shiftPressed']);break;case 0x26:this[_0xf20e10(0xfe)][_0xf20e10(0xdb)](0x1,this[_0xf20e10(0x140)]);break;case 0x27:this['_selection']['moveRight'](0x1,this[_0xf20e10(0x140)]);break;case 0x28:this[_0xf20e10(0xfe)][_0xf20e10(0x123)](0x1,this[_0xf20e10(0x140)]);break;default:_0x30bfd3=![];}_0x30bfd3&&_0xa1d7dc['preventDefault']();},CanvasTextEditor['prototype']['blur']=function(){var _0x7d309b=a0_0x9c9008;this[_0x7d309b(0x13f)][_0x7d309b(0x143)][_0x7d309b(0xe5)]='none',this[_0x7d309b(0xfe)]['setVisible'](![]);},CanvasTextEditor[a0_0x9c9008(0xe8)][a0_0x9c9008(0x13e)]=function(){var _0x40492c=a0_0x9c9008;this['inputEl'][_0x40492c(0x13e)]();};function a0_0x1801(){var _0x2209b8=['getDocument','29901hTxBjJ','block','select','createElement','value','_selection','height','border','px\x20solid\x20','_document','left','5209310DSVccQ','scrollLeft','711171ptMdoO','width','start','options','selectionColor','tabIndex','4904742oIdGJj','_checkScroll','fillStyle','display','context','exports','keydown','fontFamily','resize','keyCode','setVisible','_inputFocus','overflow','1px\x20solid\x20','64IJSQTK','slice','getSelection','relative','blur','selectionChange','_createWrapper','16UWqwxA','_scrollTop','moveDown','252FxnoQB','input','fillText','2007950wKwZgz','149604lFgNjD','8UVtHJW','getPosition','keyup','\x22Courier\x20New\x22,\x20Courier,\x20monospace','position','_metrics','Window','deleteRange','addKeyModifier','7KZlsON','textColor','setPosition','target','object','getSize','apply','appendChild','_scrollLeft','getContext','_createCanvas','-25px','focus','wrapper','shiftPressed','inputEl','272778GuGUmP','style','isOpera','insertTextAtCurrentPosition','opera','substring','getLine','getWidth','fillRect','_createInput','deleteChar','render','ceil','bind','length','div','getFontMetrics','character','backgroundColor','needsClearing','line','inline-block','padding','moveUp','isEmpty','lineRanges','10px','Document','selectionStart','setInputText','handleInput','top','getHeight','outline','getEl','px\x20','prototype','addEventListener','WindowText','canvas','updateCursorStyle','absolute','selectionEnd','keypress','moveLeft','removeKeyModfier','Selection','className','deleteCharAtCurrentPosition','canvas-text-editor','Highlight','#09f'];a0_0x1801=function(){return _0x2209b8;};return a0_0x1801();}